<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>/six - Dominate. Conquer.</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Cinzel:wght@700&display=swap" rel="stylesheet">

<style>
/* ======================= 1. CORE VARIABLES & RESET ======================= */
:root {
  --c-bg: #030005;
  --c-accent: #7b2cbf;
  --c-accent-light: #9d4edd;
  --c-accent-glow: #e0aaff;
  --c-text-main: #e8e6f3;
  --c-text-dim: #b8b0d0;
  --c-glass: rgba(20, 5, 35, 0.65);
  --c-glass-border: rgba(150, 80, 255, 0.1);
  --font-main: 'Inter', sans-serif;
  --font-brand: 'Diecide Remain', serif; /* Local Fallback */
  --ease-out: cubic-bezier(0.2, 0.8, 0.2, 1);
}

@font-face {
  font-family: 'Diecide Remain';
  src: url('fonts/DeicideRemain.otf') format('opentype'); /* Ensure this path is correct */
  font-display: swap;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; width: 100%; }

body {
  font-family: var(--font-main);
  background: var(--c-bg);
  color: var(--c-text-main);
  overflow: hidden; /* Locked initially for landing */
  line-height: 1.6;
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--c-bg); }
::-webkit-scrollbar-thumb { background: #331050; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--c-accent); }

/* Icons */
svg.icon { width: 1.2em; height: 1.2em; fill: currentColor; vertical-align: middle; margin-bottom: 2px; }

/* The /six Brand Text Style */
.brand-text {
  font-family: var(--font-brand), 'Cinzel', serif;
  background: linear-gradient(135deg, #e0aaff, #9d4edd, #7b2cbf);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 20px rgba(157, 78, 221, 0.4);
  font-weight: 900;
  letter-spacing: 1px;
}

/* ======================= 2. BACKGROUND & PARTICLES ======================= */
.bg-fixed {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
}
.bg-blob {
  position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.4;
  will-change: transform;
}
.bg-blob.one { top: -10%; left: -10%; width: 50vw; height: 50vw; background: radial-gradient(#4a0072, transparent 70%); }
.bg-blob.two { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: radial-gradient(#240046, transparent 70%); }

/* ======================= 3. LANDING EXPERIENCE ======================= */
.landing-screen {
  position: fixed; inset: 0; z-index: 1000;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: radial-gradient(circle at center, #0a0010 0%, #000 100%);
  transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out);
}
.landing-screen.hidden { opacity: 0; pointer-events: none; transform: scale(1.05); }

.landing-title {
  font-family: var(--font-brand);
  font-size: clamp(80px, 15vw, 200px);
  color: transparent;
  -webkit-text-stroke: 1px rgba(255,255,255,0.1);
  background: linear-gradient(180deg, #fff 0%, rgba(255,255,255,0) 150%);
  -webkit-background-clip: text;
  opacity: 0; transform: translateY(30px);
  animation: fadeUp 1s var(--ease-out) forwards 0.2s;
}

.enter-btn {
  margin-top: 40px;
  padding: 15px 40px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.03);
  color: var(--c-text-main);
  text-transform: uppercase;
  letter-spacing: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0; animation: fadeUp 1s var(--ease-out) forwards 0.8s;
}
.enter-btn:hover { background: var(--c-accent); border-color: var(--c-accent); box-shadow: 0 0 30px rgba(123, 44, 191, 0.4); }

@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

/* ======================= 4. SIDEBAR & NAVIGATION ======================= */
.sidebar-trigger {
  position: fixed; top: 25px; left: 25px; z-index: 100;
  width: 50px; height: 50px;
  background: rgba(10, 5, 20, 0.8);
  border: 1px solid var(--c-glass-border);
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  color: #fff; cursor: pointer;
  transition: 0.3s;
  backdrop-filter: blur(10px);
}
.sidebar-trigger:hover { transform: scale(1.05); border-color: var(--c-accent); }

.sidebar {
  position: fixed; top: 0; left: 0; bottom: 0; width: 280px;
  background: rgba(5, 2, 10, 0.95);
  backdrop-filter: blur(20px);
  border-right: 1px solid var(--c-glass-border);
  z-index: 99;
  padding: 100px 30px 40px;
  transform: translateX(-100%);
  transition: transform 0.5s var(--ease-out);
}
.sidebar.active { transform: translateX(0); }

.nav-item {
  display: flex; align-items: center; gap: 15px;
  padding: 16px; margin-bottom: 8px;
  color: var(--c-text-dim);
  text-decoration: none;
  border-radius: 8px;
  transition: 0.3s;
  font-weight: 500;
  border: 1px solid transparent;
}
.nav-item:hover, .nav-item.active {
  background: rgba(123, 44, 191, 0.15);
  color: #fff;
  border-color: rgba(123, 44, 191, 0.3);
}

/* ======================= 5. MAIN CONTENT LAYOUT ======================= */
.app-container {
  position: relative;
  z-index: 10;
  max-width: 1100px;
  margin: 0 auto;
  padding: 100px 20px 40px;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}
.app-container.visible { opacity: 1; transform: translateY(0); }

/* Header */
.app-header {
  display: flex; justify-content: space-between; align-items: flex-end;
  margin-bottom: 50px; border-bottom: 1px solid var(--c-glass-border); padding-bottom: 20px;
}
.header-title { font-size: 14px; text-transform: uppercase; letter-spacing: 2px; color: var(--c-text-dim); }
.header-brand { font-size: 32px; }
.login-btn-main {
  padding: 10px 24px;
  background: var(--c-accent);
  border: none; border-radius: 6px;
  color: #fff; font-weight: 600; font-size: 14px;
  cursor: pointer; transition: 0.3s;
  display: flex; align-items: center; gap: 8px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}
.login-btn-main:hover { background: var(--c-accent-light); transform: translateY(-2px); }

/* ======================= 6. CARDS & SECTIONS ======================= */
.grid-section { display: grid; gap: 30px; }

.card {
  background: var(--c-glass);
  border: 1px solid var(--c-glass-border);
  border-radius: 16px;
  padding: 30px;
  position: relative; overflow: hidden;
  transition: transform 0.3s, border-color 0.3s;
}
.card:hover { border-color: rgba(157, 78, 221, 0.3); transform: translateY(-5px); }

/* Section Titles */
.section-title {
  font-size: 22px; font-weight: 800; margin-bottom: 25px;
  display: flex; align-items: center; gap: 12px;
  color: #fff;
}
.section-title::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--c-glass-border), transparent); }

/* Identity Section */
.identity-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
@media(max-width: 800px) { .identity-grid { grid-template-columns: 1fr; } }

.stat-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
.stat-label { color: var(--c-text-dim); display: flex; align-items: center; gap: 8px; }
.stat-val { font-weight: 700; color: #fff; }

/* Roster Styling */
.roster-category { margin-bottom: 30px; }
.rank-header {
  display: flex; align-items: center; gap: 12px; margin-bottom: 15px;
  padding: 10px 15px;
  background: linear-gradient(90deg, rgba(255,255,255,0.03), transparent);
  border-left: 3px solid;
}
.rank-title { font-weight: 800; letter-spacing: 2px; text-transform: uppercase; font-size: 14px; }
.member-grid { display: flex; flex-wrap: wrap; gap: 10px; }
.member-tag {
  background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.08);
  padding: 8px 14px; border-radius: 6px; font-size: 13px; font-weight: 500;
  display: flex; align-items: center; gap: 8px;
  transition: 0.2s;
}
.member-tag:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.2); }

/* Specific Rank Colors */
.rank-founder { border-color: #fff; color: #fff; }
.rank-founder .icon { color: #ffd700; }
.rank-beyond { border-color: #9d4edd; color: #e0aaff; }
.rank-heneral { border-color: #d00000; color: #ff6b6b; }
.rank-star { border-color: #000; text-shadow: 0 0 2px #fff; color: #fff; }

/* Timeline */
.timeline { position: relative; padding-left: 20px; border-left: 2px solid rgba(255,255,255,0.1); }
.timeline-item { position: relative; margin-bottom: 25px; padding-left: 20px; }
.timeline-item::before {
  content: ''; position: absolute; left: -26px; top: 5px; width: 10px; height: 10px;
  background: var(--c-bg); border: 2px solid var(--c-accent); border-radius: 50%;
}
.t-date { font-size: 12px; color: var(--c-accent-glow); margin-bottom: 4px; font-weight: 700; }
.t-desc { font-size: 14px; color: var(--c-text-dim); }

/* Gallery */
.gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
.gallery-item {
  aspect-ratio: 16/9; background: #111; border-radius: 8px; overflow: hidden; cursor: pointer; border: 1px solid transparent; transition: 0.3s;
}
.gallery-item:hover { border-color: var(--c-accent); }
.gallery-img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; opacity: 0; }
.gallery-img.loaded { opacity: 1; }
.gallery-item:hover .gallery-img { transform: scale(1.1); }

/* Footer */
footer { text-align: center; padding: 40px 0; color: rgba(255,255,255,0.2); font-size: 12px; }

/* ======================= 7. MODALS (Login & Image) ======================= */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
  z-index: 2000; display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none; transition: 0.3s;
}
.modal-overlay.active { opacity: 1; pointer-events: auto; }

/* Login Box */
.login-box {
  width: 100%; max-width: 400px;
  background: #0f0518; border: 1px solid var(--c-glass-border);
  padding: 40px; border-radius: 20px; text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.6);
  transform: scale(0.95); transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.modal-overlay.active .login-box { transform: scale(1); }

.login-title { font-size: 24px; font-weight: 700; margin-bottom: 10px; color: #fff; }
.login-sub { color: var(--c-text-dim); font-size: 14px; margin-bottom: 30px; }

.social-login-btn {
  width: 100%; padding: 14px; margin-bottom: 12px;
  border-radius: 8px; border: none; font-weight: 600; font-size: 14px;
  cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;
  transition: 0.2s;
}
.btn-discord { background: #5865F2; color: white; }
.btn-discord:hover { background: #4752c4; }
.btn-close-modal { background: transparent; color: #666; font-size: 12px; margin-top: 15px; cursor: pointer; }
.btn-close-modal:hover { color: #fff; }

/* Image Preview Modal */
.preview-img { max-width: 90vw; max-height: 80vh; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.8); }
/* ================= USER SIDEBAR CARD ================= */
.user-card {
  display: flex;
  gap: 14px;
  padding: 16px;
  border-radius: 12px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
}

.avatar-skeleton {
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.05),
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.05)
  );
  animation: shimmer 1.4s infinite;
}

.info-skeleton {
  flex: 1;
}

.info-skeleton .line {
  height: 12px;
  background: rgba(255,255,255,0.08);
  border-radius: 6px;
  margin-bottom: 8px;
  animation: shimmer 1.4s infinite;
}

.info-skeleton .line.small {
  width: 60%;
  height: 10px;
}

@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: 200px 0; }
}
.user-card.error {
  border-color: #ff4d4d;
  background: rgba(255,77,77,0.08);
}

.user-card.error .error-text {
  font-size: 12px;
  color: #ffb3b3;
  line-height: 1.4;
}


.user-avatar {
  width: 46px;
  height: 46px;
  border-radius: 50%;
  object-fit: cover;
}

.user-info {
  display: flex;
  flex-direction: column;
}

.user-name {
  font-weight: 700;
  font-size: 14px;
  color: #fff;
}

/* ================= USER RANK ICONS ================= */
.user-rank {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.rank-founder { color: #ffd700; }
.rank-admin { color: #ff4d4d; }
.rank-moderator { color: #4dabf7; }
.rank-member { color: #9d4edd; }

.rank-icon {
  width: 14px;
  height: 14px;
}

</style>
</head>
<body>

  <!-- Background Ambience -->
  <div class="bg-fixed">
    <div class="bg-blob one"></div>
    <div class="bg-blob two"></div>
  </div>

  <!-- LANDING PAGE -->
  <section id="landing" class="landing-screen">
    <div class="landing-title">/SIX</div>
    <div class="brand-text" style="font-size: 24px; margin-top: -20px; margin-bottom: 20px;">ts pmo</div>
    <button class="enter-btn" onclick="app.enter()">Enter???</button>
  </section>

  <!-- NAVIGATION SIDEBAR -->
  <div class="sidebar-trigger" onclick="app.toggleSidebar()">
    <!-- Menu Icon -->
    <svg class="icon" viewBox="0 0 24 24"><path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
  </div>

  <nav id="sidebar" class="sidebar">
    
<div id="user-card" class="user-card loading">
  <div class="avatar-skeleton"></div>
  <div class="info-skeleton">
    <div class="line"></div>
    <div class="line small"></div>
  </div>
</div>

    <div style="margin-bottom: 40px;">
      <div class="brand-text" style="font-size: 40px;">/SIX</div>
      <div style="font-size: 12px; color: #666; letter-spacing: 1px;">MENU</div>
    </div>
    <div id="nav-links">
      <!-- Generated by JS -->
    </div>
  </nav>

  <!-- MAIN APPLICATION -->
  <main id="main-app" class="app-container">
    
    <!-- Header -->
    <header class="app-header">
      <div>
        <div class="header-title">Official Portal</div>
        <div class="header-brand brand-text">/six</div>
      </div>
      <button class="login-btn-main" onclick="app.toggleLogin(true)">
        <svg class="icon" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        <span>MEMBER ACCESS</span>
      </button>
    </header>

    <!-- CONTENT GRID -->
    <div class="grid-section">

      <!-- 1. IDENTITY CARD -->
      <section class="card" id="about">
        <h2 class="section-title">
          <svg class="icon" style="color:var(--c-accent)" viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
          Identity Protocol
        </h2>
        <div class="identity-grid">
          <div>
            <p style="color:var(--c-text-dim); margin-bottom: 20px;">
              <span class="brand-text">/six</span> (SAIS) is a clan founded on April 11, 2025 by lair. 
              We are not a community; we are a weapon. Our directive is absolute control over every environment we infiltrate.
            </p>
            <p style="color:#fff; font-weight:600;">"We don't recruit players. We recruit weapons."</p>
          </div>
          <div style="background:rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
            <div class="stat-row">
              <span class="stat-label"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> Founded</span>
              <span class="stat-val">2025</span>
            </div>
            <div class="stat-row">
              <span class="stat-label"><svg class="icon" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg> Alias</span>
              <span class="stat-val brand-text">SAIS</span>
            </div>
            <div class="stat-row">
              <span class="stat-label"><svg class="icon" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg> Focus</span>
              <span class="stat-val">CPVP / NethPot / UHC</span>
            </div>
          </div>
        </div>
      </section>

      <!-- 2. ROSTER -->
      <section class="card" id="roster">
        <h2 class="section-title">
          <svg class="icon" style="color:#d00000" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          Active Personnel
        </h2>
        <div id="roster-container">
          <!-- Filled by JS -->
        </div>
      </section>

      <!-- 3. TIMELINE & CODE (Split View) -->
      <div class="identity-grid">
        <section class="card" id="history">
          <h2 class="section-title">
            <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            Legacy
          </h2>
          <div class="timeline" id="timeline-container">
            <!-- Filled by JS -->
          </div>
        </section>

        <section class="card">
          <h2 class="section-title">
            <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
            Directives
          </h2>
          <ul style="list-style:none; padding:0; color:var(--c-text-dim);">
            <li style="margin-bottom:15px; display:flex; gap:10px;">
              <span style="color:var(--c-accent)">01.</span> Loyalty to the clan is absolute.
            </li>
            <li style="margin-bottom:15px; display:flex; gap:10px;">
              <span style="color:var(--c-accent)">02.</span> Disrespect leads to immediate termination.
            </li>
            <li style="margin-bottom:15px; display:flex; gap:10px;">
              <span style="color:var(--c-accent)">03.</span> We do not yield. We dominate.
            </li>
          </ul>
        </section>
      </div>

      <!-- 4. GALLERY -->
      <section class="card" id="gallery">
        <h2 class="section-title">
          <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
          Visual Archives
        </h2>
        <div class="gallery-grid" id="gallery-container">
          <!-- Filled by JS -->
        </div>
      </section>

      <!-- 5. SOCIALS -->
      <section class="card" id="socials" style="text-align:center;">
        <h2 class="section-title" style="justify-content:center;">Comms Channels</h2>
        <div style="display:flex; justify-content:center; gap:20px; flex-wrap:wrap;">
          <a href="https://discord.gg/tu6rpKhenw" target="_blank" class="login-btn-main" style="background:#5865F2; text-decoration:none;">
            <svg class="icon" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
            DISCORD
          </a>
          <a href="https://tiktok.com/@xissais" target="_blank" class="login-btn-main" style="background:#000; border:1px solid #333; text-decoration:none;">
            <svg class="icon" viewBox="0 0 24 24"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"/></svg>
            TIKTOK
          </a>
        </div>
        <div id="discord-stats" style="margin-top:15px; color:#666;">LOADING DATA...</div>
      </section>

    </div>

    <footer>
      &copy; 2025 <span class="brand-text">/six</span>. Built for domination.
    </footer>
  </main>

  <!-- LOGIN MODAL -->
  <div id="login-modal" class="modal-overlay">
    <div class="login-box">
      <div class="login-title">AUTHENTICATION</div>
      <div class="login-sub">Access /six secure database</div>
      
      <button class="social-login-btn btn-discord" onclick="app.login('discord')">
        <svg class="icon" viewBox="0 0 24 24" fill="white"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
        Continue with Discord
      </button>

      <div onclick="app.toggleLogin(false)" class="btn-close-modal">ABORT SEQUENCE</div>
    </div>
  </div>

  <!-- IMAGE PREVIEW MODAL -->
  <div id="preview-modal" class="modal-overlay" onclick="app.closePreview()">
    <img id="preview-img-el" class="preview-img" src="" alt="Preview">
  </div>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<script>
  const supabaseClient = supabase.createClient(
  "https://tstsijdifhgmpaszqknr.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRzdHNpamRpZmhnbXBhc3pxa25yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NzA1NTIsImV4cCI6MjA3ODU0NjU1Mn0.8AvcLNL-6PIlfw2FUeLcMC9atefZmZAyUQBOquGpVo4"
);
(async () => {
  const { data, error } = await supabaseClient.auth.getSession();
  if (error) console.error(error);
})();

  const ROLE_ICONS = {
  founder: "/assets/owner.png",
  admin: "/assets/admin.png",
  moderator: "/assets/moderator.png",
  member: "/assets/member.png"
};


/* ======================= DATA STORE (Centralized Configuration) ======================= */
const DATA = {
  nav: [
    { label: "About Us", href: "#about", icon: '<circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>' },
    { label: "Roster", href: "#roster", icon: '<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>' },
    { label: "History", href: "#history", icon: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>' },
    { label: "Visuals", href: "#gallery", icon: '<rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>' },
  ],
 
  roster: [
    {
      rank: "FOUNDER",
      class: "rank-founder",
      icon: '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>', // Crown Star
      members: ["xla41r"]
    },
    {
      rank: "BEYOND",
      class: "rank-beyond",
      icon: '<path d="M18 12L12 2L6 12"/><path d="M2 22h20"/>', // Chevron/Ascension
      members: ["@lovelyxeiii_1", "@dashhszn4", "@xzasza", "@shintenshii"]
    },
    {
      rank: "HENERAL",
      class: "rank-heneral",
      icon: '<rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>', // General Icon
      members: ["@impsx", "@proglz"]
    },
    {
      rank: "STAR",
      class: "rank-star",
      icon: '<polygon points="12 2 2 22 22 22"/>', // Triangle
      members: [
        "@lovelyxeiii_1", "@dashhszn4", "@geloutzy4", "@headlock777",
        "@kyzaxks", "@big2ck", "@newfisch_03628", "@fr_rui", "@proglz",
        "@penguinguy_6", "@nefushi", "@xzasza", "@zxcygsatzshi", "@solcery_", "@vancars."
      ]
    }
  ],

  timeline: [
    { date: "APR 2025", desc: "Foundation of /six by 3ryll." },
    { date: "MAY 2025", desc: "First server domination event." },
    { date: "JUN 2025", desc: "Recruitment of high-tier assets begins." },
    { date: "NOW", desc: "Controlling 2 major servers." }
  ],

  gallery: [
    "https://cdn.discordapp.com/attachments/1371525091833282752/1409814312582643762/quality_restoration_20250826161611300.jpg",
    "https://cdn.discordapp.com/attachments/1371525091833282752/1401944987473547284/lv_0_20250804230545.gif",
    "https://cdn.discordapp.com/attachments/1371525091833282752/1400024103142035487/Picsart_25-07-30_15-51-21-892.png",
    "https://cdn.discordapp.com/attachments/1371525091833282752/1391335858023432192/quality_restoration_20250706162944658.jpg"
  ]
};

/* ======================= APPLICATION LOGIC ======================= */
const app = {
  
  init: () => {
    app.checkAuth();
    app.renderNav();
    app.renderRoster();
    app.renderTimeline();
    app.renderGallery();
    app.fetchDiscordStats();
    app.formatBrandText();
  },

  /* 1. DOM MANIPULATION HELPER FOR ICONS */
  icon: (path) => `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${path}</svg>`,
  
checkAuth: async () => {
  const card = document.getElementById("user-card");

  try {
    const { data: { session } } = await supabaseClient.auth.getSession();
    if (!session) throw new Error("No session found");

    const { data: profile, error } = await supabaseClient
      .from("profiles")
      .select("username, avatar, role")
      .eq("id", session.user.id)
      .maybeSingle();

    if (error || !profile) throw new Error("Profile fetch failed");

    app.renderUserCard(profile);

  } catch (err) {
    console.error(err);
    app.renderUserCardError(err.message);
  }
},



renderUserCard: (profile) => {
  const container = document.getElementById("user-card");
  const role = profile.role || "member";
  const icon = ROLE_ICONS[role];

  container.className = "user-card ready";

  container.innerHTML = `
    <img class="user-avatar" src="${profile.avatar}">
    <div class="user-info">
      <div class="user-name">${profile.username}</div>
      <div class="user-rank rank-${role}">
        <img class="rank-icon" src="${icon}">
        ${role}
      </div>
    </div>
  `;
},
renderUserCardError: (msg) => {
  const container = document.getElementById("user-card");
  container.className = "user-card error";

  container.innerHTML = `
    <img class="user-avatar" src="/assets/ranks/error.png">
    <div class="error-text">
      <strong>Failed to load profile</strong><br>
      Please report this error to the staff team.
    </div>
  `;
},



  /* 2. RENDER FUNCTIONS */
  renderNav: () => {
    const container = document.getElementById('nav-links');
    DATA.nav.forEach(item => {
      container.innerHTML += `
        <a href="${item.href}" class="nav-item" onclick="app.toggleSidebar()">
          ${app.icon(item.icon)} ${item.label}
        </a>
      `;
    });
  },

  renderRoster: () => {
    const container = document.getElementById('roster-container');
    DATA.roster.forEach(grp => {
      const html = `
        <div class="roster-category ${grp.class}">
          <div class="rank-header">
            ${app.icon(grp.icon)}
            <span class="rank-title">${grp.rank}</span>
          </div>
          <div class="member-grid">
            ${grp.members.map(m => `<div class="member-tag">${m}</div>`).join('')}
          </div>
        </div>
      `;
      container.innerHTML += html;
    });
  },

  renderTimeline: () => {
    const container = document.getElementById('timeline-container');
    DATA.timeline.forEach(t => {
      container.innerHTML += `
        <div class="timeline-item">
          <div class="t-date">${t.date}</div>
          <div class="t-desc">${t.desc}</div>
        </div>
      `;
    });
  },

  renderGallery: () => {
    const container = document.getElementById('gallery-container');
    DATA.gallery.forEach(src => {
      const div = document.createElement('div');
      div.className = 'gallery-item';
      div.onclick = () => app.openPreview(src);
      
      const img = document.createElement('img');
      img.className = 'gallery-img';
      img.loading = 'lazy'; // Performance boost
      img.onload = () => img.classList.add('loaded');
      img.src = src;
      
      div.appendChild(img);
      container.appendChild(div);
    });
  },

  /* 3. INTERACTIONS */
  enter: () => {
    document.getElementById('landing').classList.add('hidden');
    document.body.style.overflow = 'auto'; // Unlock scroll
    setTimeout(() => {
      document.getElementById('landing').style.display = 'none';
      document.getElementById('main-app').classList.add('visible');
    }, 600);
  },

  toggleSidebar: () => {
    document.getElementById('sidebar').classList.toggle('active');
  },

  toggleLogin: (show) => {
    const modal = document.getElementById('login-modal');
    show ? modal.classList.add('active') : modal.classList.remove('active');
  },

  login: async (provider) => {
  if (provider !== "discord") return;

  await supabaseClient.auth.signInWithOAuth({
    provider: "discord"
  });
},



  /* 4. UTILITIES */
  openPreview: (src) => {
    document.getElementById('preview-img-el').src = src;
    document.getElementById('preview-modal').classList.add('active');
  },
  
  closePreview: () => {
    document.getElementById('preview-modal').classList.remove('active');
  },

  formatBrandText: () => {
    // Auto-styles any text matching /six or sais
    // This is run after render to catch generated content
    setTimeout(() => {
      const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT);
      let node;
      const nodesToReplace = [];
      while(node = walker.nextNode()) {
        if(node.nodeValue.match(/(\/six|sais)/i) && node.parentElement.tagName !== 'SCRIPT' && !node.parentElement.classList.contains('brand-text')) {
          nodesToReplace.push(node);
        }
      }
      nodesToReplace.forEach(node => {
        const span = document.createElement('span');
        span.innerHTML = node.nodeValue.replace(/(\/six|sais)/gi, '<span class="brand-text">$1</span>');
        node.parentElement.replaceChild(span, node);
      });
    }, 100);
  },

  fetchDiscordStats: async () => {
    try {
      // Mocking fetch for reliability in demo - replace with real API call if needed
      // const res = await fetch(`https://discord.com/api/v9/invites/tu6rpKhenw?with_counts=true`);
      // const data = await res.json();
      
      // Simulating a response to ensure UI looks good immediately
      setTimeout(() => {
         document.getElementById('discord-stats').innerHTML = `
           <span style="color:#43b581">●</span> <strong>Online</strong> • 800+ Members
         `;
      }, 1000);
    } catch(e) { console.log(e); }
  }
};

// Start System
window.addEventListener('DOMContentLoaded', app.init);

</script>
</body>
</html>
