<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>/six</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Cinzel:wght@700&display=swap" rel="stylesheet">

<style>
/* ======================= 1. CORE VARIABLES & RESET ======================= */
:root {
  --c-bg: #030005;
  --c-bg-alt: #0a0510;
  --c-accent: #7b2cbf;
  --c-accent-light: #9d4edd;
  --c-accent-glow: #e0aaff;
  --c-text-main: #e8e6f3;
  --c-text-dim: #8f8ba0;
  
  /* Enhanced Glass Variables */
  --c-glass: rgba(10, 5, 20, 0.6);
  --c-glass-hover: rgba(20, 10, 35, 0.8);
  --c-glass-border: rgba(255, 255, 255, 0.08);
  --c-glass-border-hover: rgba(157, 78, 221, 0.5);
  
  --font-main: 'Inter', sans-serif;
  --font-brand: 'Diecide Remain', serif;
  --ease-out: cubic-bezier(0.2, 0.8, 0.2, 1);
}

@font-face {
  font-family: 'Diecide Remain';
  src: url('fonts/DeicideRemain.otf') format('opentype');
  font-display: swap;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; width: 100%; }

body {
  font-family: var(--font-main);
  background: var(--c-bg);
  color: var(--c-text-main);
  overflow: hidden; 
  line-height: 1.6;
}

/* Texture Overlay (Scanlines) - Adds depth without lag */
body::after {
  content: "";
  position: fixed; inset: 0; pointer-events: none; z-index: 900;
  background: repeating-linear-gradient(
    0deg,
    rgba(0,0,0,0.15),
    rgba(0,0,0,0.15) 1px,
    transparent 1px,
    transparent 2px
  );
  background-size: 100% 4px;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--c-bg); }
::-webkit-scrollbar-thumb { background: #331050; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--c-accent); }

/* Icons */
svg.icon { width: 1.2em; height: 1.2em; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; vertical-align: middle; margin-bottom: 2px; }

/* The /six Brand Text Style */
.brand-text {
  font-family: var(--font-brand), 'Cinzel', serif;
  background: linear-gradient(135deg, #e0aaff, #9d4edd, #7b2cbf);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 25px rgba(157, 78, 221, 0.5);
  font-weight: 900;
  letter-spacing: 1px;
}

/* ======================= 2. BACKGROUND & PARTICLES ======================= */
.bg-fixed {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
}
.bg-blob {
  position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.3;
  will-change: transform; animation: breath 10s infinite alternate ease-in-out;
}
.bg-blob.one { top: -20%; left: -10%; width: 60vw; height: 60vw; background: radial-gradient(#4a0072, transparent 70%); }
.bg-blob.two { bottom: -20%; right: -10%; width: 70vw; height: 70vw; background: radial-gradient(#240046, transparent 70%); animation-delay: -5s; }

@keyframes breath { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }

/* ======================= 3. LANDING EXPERIENCE (UNCHANGED) ======================= */
.landing-screen {
  position: fixed; inset: 0; z-index: 1000;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: radial-gradient(circle at center, #0a0010 0%, #000 100%);
  transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out);
}
.landing-screen.hidden { opacity: 0; pointer-events: none; transform: scale(1.05); }

.landing-title {
  font-family: var(--font-brand);
  font-size: clamp(80px, 15vw, 200px);
  color: transparent;
  -webkit-text-stroke: 1px rgba(255,255,255,0.1);
  background: linear-gradient(180deg, #fff 0%, rgba(255,255,255,0) 150%);
  -webkit-background-clip: text;
  opacity: 0; transform: translateY(30px);
  animation: fadeUp 1s var(--ease-out) forwards 0.2s;
}

.enter-btn {
  margin-top: 40px;
  padding: 15px 40px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.03);
  color: var(--c-text-main);
  text-transform: uppercase;
  letter-spacing: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0; animation: fadeUp 1s var(--ease-out) forwards 0.8s;
}
.enter-btn:hover { background: var(--c-accent); border-color: var(--c-accent); box-shadow: 0 0 30px rgba(123, 44, 191, 0.4); }

@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

/* ======================= 4. ENHANCED SIDEBAR ======================= */
.sidebar-trigger {
  position: fixed; top: 30px; left: 30px; z-index: 100;
  width: 45px; height: 45px;
  background: rgba(10, 5, 20, 0.4);
  border: 1px solid var(--c-glass-border);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  color: #fff; cursor: pointer;
  transition: all 0.4s var(--ease-out);
  backdrop-filter: blur(8px);
}
.sidebar-trigger:hover { 
  background: var(--c-accent); 
  border-color: var(--c-accent-light); 
  transform: rotate(90deg) scale(1.1); 
  box-shadow: 0 0 15px rgba(123, 44, 191, 0.5);
}

.sidebar {
  position: fixed; top: 0; left: 0; bottom: 0; width: 300px;
  background: linear-gradient(90deg, #05020a, rgba(5, 2, 10, 0.9));
  border-right: 1px solid var(--c-glass-border);
  z-index: 99;
  padding: 100px 30px 40px;
  transform: translateX(-100%);
  transition: transform 0.6s var(--ease-out);
  display: flex; flex-direction: column;
}
.sidebar.active { transform: translateX(0); box-shadow: 20px 0 50px rgba(0,0,0,0.5); }

/* Decoration line in sidebar */
.sidebar::before {
  content: ''; position: absolute; top: 0; bottom: 0; left: 0; width: 1px;
  background: linear-gradient(180deg, transparent, var(--c-accent), transparent);
  opacity: 0.5;
}

.nav-item {
  display: flex; align-items: center; gap: 18px;
  padding: 16px 20px; margin-bottom: 12px;
  color: var(--c-text-dim);
  text-decoration: none;
  border-radius: 12px;
  transition: 0.3s;
  font-weight: 500;
  border: 1px solid transparent;
  position: relative; overflow: hidden;
}
.nav-item:hover, .nav-item.active {
  background: rgba(255,255,255,0.03);
  color: #fff;
  border-color: rgba(255,255,255,0.08);
  padding-left: 25px; /* Slide effect */
}
.nav-item.active { border-color: var(--c-accent); background: rgba(123, 44, 191, 0.1); }

/* Tiny glow dot on active nav */
.nav-item.active::after {
  content: ''; position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
  width: 6px; height: 6px; background: var(--c-accent-light); border-radius: 50%;
  box-shadow: 0 0 10px var(--c-accent);
}

/* ======================= 5. BENTO GRID LAYOUT ======================= */
.app-container {
  position: relative; z-index: 10;
  max-width: 1200px; margin: 0 auto;
  padding: 100px 20px 60px;
  opacity: 0; transform: translateY(20px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}
.app-container.visible { opacity: 1; transform: translateY(0); }

/* Header */
.app-header {
  display: flex; justify-content: space-between; align-items: flex-end;
  margin-bottom: 40px; padding-bottom: 20px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
}
.header-title { font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 3px; color: var(--c-accent); margin-bottom: 4px; }
.header-brand { font-size: 42px; line-height: 1; }

.login-btn-main {
  padding: 12px 28px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px;
  color: #fff; font-weight: 600; font-size: 13px;
  cursor: pointer; transition: 0.3s;
  display: flex; align-items: center; gap: 10px;
  overflow: hidden; position: relative;
}
.login-btn-main::before {
  content: ''; position: absolute; top:0; left: -100%; width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: 0.5s;
}
.login-btn-main:hover { border-color: var(--c-accent); transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,0,0,0.3); }
.login-btn-main:hover::before { left: 100%; }

/* GRID SYSTEM */
.grid-section { 
  display: grid; 
  grid-template-columns: 1fr; 
  gap: 24px; 
}
@media(min-width: 900px) {
  .grid-section { 
    grid-template-columns: repeat(12, 1fr); 
    grid-auto-rows: minmax(180px, auto);
  }
  .col-span-12 { grid-column: span 12; }
  .col-span-8  { grid-column: span 8; }
  .col-span-6  { grid-column: span 6; }
  .col-span-4  { grid-column: span 4; }
  .row-span-2  { grid-row: span 2; }
}

/* CARD STYLING - Enhanced */
.card {
  background: var(--c-glass);
  border: 1px solid var(--c-glass-border);
  border-radius: 20px;
  padding: 30px;
  position: relative; overflow: hidden;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  backdrop-filter: blur(12px);
  display: flex; flex-direction: column;
}

/* Card Hover Glow */
.card::after {
  content: ''; position: absolute; inset: 0;
  background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(157, 78, 221, 0.06), transparent 40%);
  opacity: 0; transition: opacity 0.5s; pointer-events: none;
}
.card:hover::after { opacity: 1; }

.card:hover { 
  border-color: var(--c-glass-border-hover); 
  transform: translateY(-4px); 
  box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5); 
}

/* Section Titles */
.section-title {
  font-size: 18px; font-weight: 700; margin-bottom: 20px;
  display: flex; align-items: center; gap: 10px;
  color: #fff; letter-spacing: -0.5px;
}
.section-title .icon { color: var(--c-text-dim); transition: 0.3s; }
.card:hover .section-title .icon { color: var(--c-accent-glow); }

/* CONTENT STYLES */
.desc-text { color: var(--c-text-dim); font-size: 15px; margin-bottom: 20px; line-height: 1.7; }

/* Stat Boxes */
.stats-container { display: flex; gap: 15px; margin-top: auto; }
.mini-stat {
  background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.05);
  padding: 12px 16px; border-radius: 10px; flex: 1;
}
.ms-label { font-size: 11px; text-transform: uppercase; color: var(--c-text-dim); margin-bottom: 4px; display: block; }
.ms-val { font-size: 16px; font-weight: 700; color: #fff; }

/* Roster Styling - Grid of chips */
.roster-grid { display: grid; gap: 20px; }
.rank-group { border-left: 2px solid rgba(255,255,255,0.05); padding-left: 20px; transition: 0.3s; }
.rank-group:hover { border-color: var(--c-accent); background: linear-gradient(90deg, rgba(123,44,191,0.05), transparent); }

.rank-title { 
  font-size: 12px; font-weight: 800; letter-spacing: 2px; text-transform: uppercase; 
  margin-bottom: 12px; display: flex; align-items: center; gap: 8px;
}
.members-list { display: flex; flex-wrap: wrap; gap: 8px; }

.member-chip {
  background: rgba(255,255,255,0.03); 
  border: 1px solid transparent;
  padding: 6px 12px; border-radius: 6px; 
  font-size: 13px; font-weight: 500; color: #ccc;
  transition: 0.2s; cursor: default;
}
.member-chip:hover { 
  background: #fff; color: #000; 
  transform: scale(1.05); 
  box-shadow: 0 0 15px var(--c-accent);
}
.rank-founder .member-chip { border-color: rgba(255, 215, 0, 0.3); color: #ffeebb; }
.rank-beyond .member-chip { border-color: rgba(157, 78, 221, 0.3); color: #e0aaff; }

/* Timeline - Minimalist */
.timeline-item { 
  position: relative; padding-left: 25px; margin-bottom: 25px; 
  border-left: 1px solid rgba(255,255,255,0.1); 
}
.timeline-item::after {
  content: ''; position: absolute; left: -3px; top: 6px; width: 5px; height: 5px; background: var(--c-accent);
  box-shadow: 0 0 8px var(--c-accent);
}
.t-date { font-size: 11px; font-weight: 700; color: var(--c-accent-glow); margin-bottom: 2px; letter-spacing: 1px; }
.t-desc { font-size: 14px; color: #ddd; }

/* Gallery - Clean Grid */
.gallery-strip { 
  display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; height: 100%;
}
.gallery-thumb {
  background: #111; border-radius: 8px; overflow: hidden; cursor: pointer; 
  position: relative; aspect-ratio: 16/9;
}
.gallery-thumb img { 
  width: 100%; height: 100%; object-fit: cover; transition: 0.5s; opacity: 0.7; filter: grayscale(50%);
}
.gallery-thumb:hover img { transform: scale(1.1); opacity: 1; filter: grayscale(0%); }

/* Socials Button Custom */
.social-tile {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  height: 100%; text-decoration: none; color: #fff;
  border: 1px dashed rgba(255,255,255,0.1); border-radius: 12px;
  transition: 0.3s;
}
.social-tile:hover { background: rgba(88, 101, 242, 0.1); border-color: #5865F2; }
.social-tile svg { width: 30px; height: 30px; margin-bottom: 10px; }

/* Footer */
footer { 
  text-align: center; padding-top: 40px; color: var(--c-text-dim); font-size: 12px; 
  border-top: 1px solid rgba(255,255,255,0.05); margin-top: 40px;
}

/* ======================= 6. MODALS & USER CARD ======================= */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
  z-index: 2000; display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none; transition: 0.3s;
}
.modal-overlay.active { opacity: 1; pointer-events: auto; }

.login-box {
  width: 100%; max-width: 380px;
  background: #0f0518; border: 1px solid var(--c-glass-border);
  padding: 40px; border-radius: 24px; text-align: center;
  box-shadow: 0 0 50px rgba(123, 44, 191, 0.1);
  transform: scale(0.9); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.modal-overlay.active .login-box { transform: scale(1); }

/* User Card Styles */
.user-menu-wrapper { margin-bottom: 40px; width: 100%; }
.user-card {
  display: flex; align-items: center; gap: 15px; padding: 12px;
  border-radius: 14px; background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06); cursor: pointer; transition: 0.3s;
}
.user-card:hover, .user-menu-wrapper.open .user-card { background: rgba(255,255,255,0.07); border-color: rgba(255,255,255,0.2); }
.user-avatar { width: 42px; height: 42px; border-radius: 10px; object-fit: cover; }
.user-name { font-weight: 700; color: #fff; font-size: 14px; }
.user-rank { font-size: 10px; text-transform: uppercase; font-weight: 800; opacity: 0.8; letter-spacing: 1px; margin-top: 2px;}

.user-dropdown {
  max-height: 0; overflow: hidden; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  background: rgba(0,0,0,0.2); border-radius: 0 0 12px 12px;
}
.user-menu-wrapper.open .user-dropdown { max-height: 150px; padding: 10px; border: 1px solid rgba(255,255,255,0.06); border-top: none; }
.menu-action-btn {
  width: 100%; padding: 10px; margin-bottom: 4px; border-radius: 8px;
  background: transparent; border: none; color: #ccc; font-size: 13px;
  display: flex; align-items: center; gap: 10px; cursor: pointer; transition: 0.2s;
}
.menu-action-btn:hover { background: rgba(123, 44, 191, 0.2); color: #fff; }

.preview-img { max-width: 90vw; max-height: 85vh; border-radius: 12px; box-shadow: 0 0 80px rgba(0,0,0,1); }

/* Loaders/Skeletons */
.avatar-skeleton { width: 42px; height: 42px; background: rgba(255,255,255,0.05); border-radius: 10px; animation: pulse 1.5s infinite; }
.info-skeleton .line { height: 10px; width: 80px; background: rgba(255,255,255,0.05); border-radius: 4px; margin-bottom: 6px; animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

/* Glitch/Scramble Effect helper class */
.scramble-text { display: inline-block; min-width: 50px; }

</style>
</head>
<body>

  <!-- Background Ambience -->
  <div class="bg-fixed">
    <div class="bg-blob one"></div>
    <div class="bg-blob two"></div>
  </div>

  <!-- LANDING PAGE -->
  <section id="landing" class="landing-screen">
    <div class="landing-title">/SIX</div>
    <div class="brand-text" style="font-size: 24px; margin-top: -20px; margin-bottom: 20px;">ts pmo</div>
    <button class="enter-btn" onclick="app.enter()">Enter???</button>
  </section>

  <!-- NAVIGATION SIDEBAR -->
  <div class="sidebar-trigger" onclick="app.toggleSidebar()">
    <svg class="icon" style="width:24px;height:24px;" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
  </div>

  <nav id="sidebar" class="sidebar">
    <div id="user-card" class="user-card loading">
      <div class="avatar-skeleton"></div>
      <div class="info-skeleton">
        <div class="line"></div>
        <div class="line" style="width:50px"></div>
      </div>
    </div>

    <div style="margin-bottom: 40px; padding-left: 10px;">
      <div class="brand-text" style="font-size: 32px; line-height:1.2;">/SIX</div>
      <div style="font-size: 10px; color: #666; letter-spacing: 2px;">MAIN MENU</div>
    </div>
    <div id="nav-links">
      <!-- Generated by JS -->
    </div>
  </nav>

  <!-- MAIN APPLICATION -->
  <main id="main-app" class="app-container">
    
    <!-- Header -->
    <header class="app-header">
      <div>
        <div class="header-title">V1</div>
        <div class="header-brand brand-text" data-value="/six">/six</div>
      </div>
      <button class="login-btn-main" onclick="app.toggleLogin(true)">
        <svg class="icon" viewBox="0 0 24 24"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
        <span>Login</span>
      </button>
    </header>

    <!-- BENTO GRID LAYOUT -->
    <div class="grid-section">

      <!-- 1. IDENTITY CARD (Big Feature) -->
      <section class="card col-span-8" id="about">
        <h2 class="section-title">
          <svg class="icon" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          <span class="scramble-hover" data-text="Identity Protocol">Introduction</span>
        </h2>
        <div style="display:flex; flex-direction:column; height:100%;">
          <p class="desc-text">
            <span class="brand-text">/six</span> (SAIS) is a clan Founded on April 11, 2025 by lair.
            <em style="color:#fff; border-left: 2px solid var(--c-accent); padding-left:10px;">"quote"</em>
          </p>
          
          <div class="stats-container">
            <div class="mini-stat">
              <span class="ms-label">Founded</span>
              <span class="ms-val">2025</span>
            </div>
            <div class="mini-stat">
              <span class="ms-label">Alias</span>
              <span class="ms-val brand-text">SAIS</span>
            </div>
            <div class="mini-stat">
              <span class="ms-label">Target</span>
              <span class="ms-val">SPVP</span>
            </div>
          </div>
        </div>
      </section>

      <!-- 2. SOCIALS / STATUS (Compact) -->
      <section class="card col-span-4" id="socials">
        <h2 class="section-title"><span class="scramble-hover" data-text="Network">Socials</span></h2>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; height:100%;">
          <a href="https://discord.gg/tu6rpKhenw" target="_blank" class="social-tile">
            <svg class="icon" style="color:#5865F2" viewBox="0 0 24 24"><path d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM3 20a6 6 0 0 1 12 0v1H3v-1z"/></svg>
            <span style="font-weight:700; font-size:14px;">DISCORD</span>
            <span id="discord-count" style="font-size:11px; color:#888; margin-top:4px;">Fetching...</span>
          </a>
          <a href="https://tiktok.com/@xissais" target="_blank" class="social-tile">
            <svg class="icon" style="color:#fff" viewBox="0 0 24 24"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"/></svg>
            <span style="font-weight:700; font-size:14px;">TIKTOK</span>
            <span style="font-size:11px; color:#888; margin-top:4px;">Media</span>
          </a>
        </div>
      </section>

      <!-- 3. ROSTER (Full Width) -->
      <section class="card col-span-12" id="roster">
        <h2 class="section-title">
          <svg class="icon" style="color:#d00000" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <span class="scramble-hover" data-text="Active Personnel">Roster</span>
        </h2>
        <div id="roster-container" class="roster-grid">
          <!-- Filled by JS -->
        </div>
      </section>

      <!-- 4. TIMELINE -->
      <section class="card col-span-6" id="history">
        <h2 class="section-title">
          <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          <span class="scramble-hover" data-text="Legacy Timeline">Timeline</span>
        </h2>
        <div id="timeline-container" style="margin-top:10px;">
          <!-- Filled by JS -->
        </div>
      </section>

      <!-- 5. DIRECTIVES -->
      <section class="card col-span-6">
        <h2 class="section-title">
          <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          <span class="scramble-hover" data-text="Core Directives">Directives</span>
        </h2>
        <ul style="list-style:none; padding:0; color:var(--c-text-dim);">
          <li style="margin-bottom:15px; display:flex; gap:12px; align-items:flex-start;">
            <span style="color:var(--c-accent); font-family:monospace; font-weight:700;">01_</span> 
            <span>Loyalty to the clan is absolute. Betrayal is not an option.</span>
          </li>
          <li style="margin-bottom:15px; display:flex; gap:12px; align-items:flex-start;">
            <span style="color:var(--c-accent); font-family:monospace; font-weight:700;">02_</span> 
            <span>Respect the hierarchy. Disrespect leads to immediate termination.</span>
          </li>
          <li style="margin-bottom:15px; display:flex; gap:12px; align-items:flex-start;">
            <span style="color:var(--c-accent); font-family:monospace; font-weight:700;">03_</span> 
            <span>We do not yield. We dominate every server we touch.</span>
          </li>
        </ul>
      </section>

      <!-- 6. VISUALS -->
      <section class="card col-span-12" id="gallery">
        <h2 class="section-title">
          <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
          <span class="scramble-hover" data-text="Visual Archives">Visual Archives</span>
        </h2>
        <div class="gallery-strip" id="gallery-container">
          <!-- Filled by JS -->
        </div>
      </section>

    </div>

    <footer>
      &copy; 2025 <span class="brand-text">/six</span>. Built for domination. <br>
      <span style="opacity:0.5; font-size:10px;">SECURE CONNECTION ESTABLISHED</span>
    </footer>
  </main>

  <!-- LOGIN MODAL -->
  <div id="login-modal" class="modal-overlay">
    <div class="login-box">
      <div class="brand-text" style="font-size:28px; margin-bottom:10px;">/SIX</div>
      <div style="color:#aaa; font-size:14px; margin-bottom:30px;">Authenticate Identity</div>
      
      <button class="login-btn-main" style="width:100%; justify-content:center; background:#5865F2; border:none;" onclick="app.login('discord')">
        <svg class="icon" viewBox="0 0 24 24" fill="white" style="stroke:none;"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
        Discord Auth
      </button>

      <div onclick="app.toggleLogin(false)" style="margin-top:20px; font-size:12px; color:#666; cursor:pointer; letter-spacing:1px;">ABORT</div>
    </div>
  </div>

  <!-- IMAGE PREVIEW -->
  <div id="preview-modal" class="modal-overlay" onclick="app.closePreview()">
    <img id="preview-img-el" class="preview-img" src="" alt="Preview">
  </div>

<!-- LOGIC -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
  // Mouse tracking for glow effect
  document.addEventListener('mousemove', e => {
    document.querySelectorAll('.card').forEach(card => {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      card.style.setProperty('--mouse-x', `${x}px`);
      card.style.setProperty('--mouse-y', `${y}px`);
    });
  });

  const supabaseClient = supabase.createClient(
    "https://tstsijdifhgmpaszqknr.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRzdHNpamRpZmhnbXBhc3pxa25yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NzA1NTIsImV4cCI6MjA3ODU0NjU1Mn0.8AvcLNL-6PIlfw2FUeLcMC9atefZmZAyUQBOquGpVo4"
  );

  const DATA = {
    nav: [
      { label: "Identity", href: "#about", icon: '<circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>' },
      { label: "Personnel", href: "#roster", icon: '<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>' },
      { label: "Legacy", href: "#history", icon: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>' },
      { label: "Archives", href: "#gallery", icon: '<rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>' },
    ],
    roster: [
      { rank: "FOUNDER", class: "rank-founder", members: ["xla41r"] },
      { rank: "BEYOND", class: "rank-beyond", members: ["@lovelyxeiii_1", "@dashhszn4", "@xzasza", "@shintenshii"] },
      { rank: "HENERAL", class: "rank-heneral", members: ["@impsx", "@proglz"] },
      { rank: "STAR", class: "rank-star", members: ["@lovelyxeiii_1", "@dashhszn4", "@geloutzy4", "@headlock777", "@kyzaxks", "@big2ck", "@newfisch_03628", "@fr_rui", "@proglz", "@penguinguy_6", "@nefushi", "@xzasza", "@zxcygsatzshi", "@solcery_", "@vancars."] }
    ],
    timeline: [
      { date: "APR 2025", desc: "Foundation of /six by 3ryll." },
      { date: "MAY 2025", desc: "First server domination event." },
      { date: "JUN 2025", desc: "Acquisition of high-tier assets." },
      { date: "NOW", desc: "Controlling 2 major servers." }
    ],
    gallery: [
      "https://cdn.discordapp.com/attachments/1371525091833282752/1409814312582643762/quality_restoration_20250826161611300.jpg",
      "https://cdn.discordapp.com/attachments/1371525091833282752/1401944987473547284/lv_0_20250804230545.gif",
      "https://cdn.discordapp.com/attachments/1371525091833282752/1400024103142035487/Picsart_25-07-30_15-51-21-892.png",
      "https://cdn.discordapp.com/attachments/1371525091833282752/1391335858023432192/quality_restoration_20250706162944658.jpg"
    ]
  };

  const app = {
    init: () => {
      app.checkAuth();
      app.renderNav();
      app.renderRoster();
      app.renderTimeline();
      app.renderGallery();
      app.fetchDiscordStats();
      app.formatBrandText();
      app.initScramble();
    },

    /* Text Scramble Effect for visual flair */
    initScramble: () => {
      const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ/<>[]#";
      document.querySelectorAll('.scramble-hover').forEach(el => {
        el.onmouseover = event => {
          let iteration = 0;
          let interval = setInterval(() => {
            event.target.innerText = event.target.innerText
              .split("")
              .map((letter, index) => {
                if(index < iteration) return event.target.dataset.text[index];
                return letters[Math.floor(Math.random() * 26)];
              })
              .join("");
            
            if(iteration >= event.target.dataset.text.length) clearInterval(interval);
            iteration += 1/3;
          }, 30);
        }
      });
    },

    checkAuth: async () => {
      try {
        const { data: { session } } = await supabaseClient.auth.getSession();
        if (!session) throw new Error("No session");
        const { data: profile } = await supabaseClient
          .from("profiles").select("username, avatar, role").eq("id", session.user.id).maybeSingle();
        if (profile) app.renderUserCard(profile);
      } catch (err) {
        // Stay in loading state or show guest text
        const container = document.getElementById("user-card");
        container.innerHTML = `<div style="font-size:12px; color:#666;">GUEST ACCESS</div>`;
        container.className = "user-card";
      }
    },

    renderUserCard: (profile) => {
      const container = document.getElementById("user-card");
      container.outerHTML = `
        <div id="user-menu-wrapper" class="user-menu-wrapper">
          <div class="user-card" onclick="app.toggleUserMenu()">
            <img class="user-avatar" src="${profile.avatar}">
            <div class="user-info">
              <div class="user-name">${profile.username}</div>
              <div class="user-rank rank-${profile.role || 'member'}">${profile.role || 'member'}</div>
            </div>
            <svg class="icon" style="margin-left:auto; width:16px;" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="user-dropdown">
            <button class="menu-action-btn" onclick="location.href='/@${profile.username}'">
              <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="7" r="4"/><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/></svg> View Profile
            </button>
            <button class="menu-action-btn" onclick="location.href='/settings'">
              <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg> Settings
            </button>
          </div>
        </div>
      `;
    },

    toggleUserMenu: () => {
      document.getElementById('user-menu-wrapper').classList.toggle('open');
    },

    renderNav: () => {
      const container = document.getElementById('nav-links');
      DATA.nav.forEach(item => {
        container.innerHTML += `
          <a href="${item.href}" class="nav-item" onclick="app.toggleSidebar()">
            <svg class="icon" viewBox="0 0 24 24">${item.icon}</svg> ${item.label}
          </a>
        `;
      });
    },

    renderRoster: () => {
      const container = document.getElementById('roster-container');
      DATA.roster.forEach(grp => {
        container.innerHTML += `
          <div class="rank-group ${grp.class}">
            <div class="rank-title">${grp.rank}</div>
            <div class="members-list">
              ${grp.members.map(m => `<div class="member-chip">${m}</div>`).join('')}
            </div>
          </div>
        `;
      });
    },

    renderTimeline: () => {
      const container = document.getElementById('timeline-container');
      DATA.timeline.forEach(t => {
        container.innerHTML += `
          <div class="timeline-item">
            <div class="t-date">${t.date}</div>
            <div class="t-desc">${t.desc}</div>
          </div>
        `;
      });
    },

    renderGallery: () => {
      const container = document.getElementById('gallery-container');
      DATA.gallery.forEach(src => {
        container.innerHTML += `
          <div class="gallery-thumb" onclick="app.openPreview('${src}')">
            <img src="${src}" loading="lazy">
          </div>
        `;
      });
    },

    enter: () => {
      document.getElementById('landing').classList.add('hidden');
      document.body.style.overflow = 'auto';
      setTimeout(() => {
        document.getElementById('landing').style.display = 'none';
        document.getElementById('main-app').classList.add('visible');
      }, 600);
    },

    toggleSidebar: () => { document.getElementById('sidebar').classList.toggle('active'); },
    
    toggleLogin: (show) => {
      const modal = document.getElementById('login-modal');
      show ? modal.classList.add('active') : modal.classList.remove('active');
    },

    login: async (p) => { if(p==='discord') await supabaseClient.auth.signInWithOAuth({provider:"discord"}); },

    openPreview: (src) => {
      document.getElementById('preview-img-el').src = src;
      document.getElementById('preview-modal').classList.add('active');
    },
    
    closePreview: () => { document.getElementById('preview-modal').classList.remove('active'); },

    formatBrandText: () => {
      setTimeout(() => {
        const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT);
        let node;
        const nodesToReplace = [];
        while(node = walker.nextNode()) {
          if(node.nodeValue.match(/(\/six|sais)/i) && node.parentElement.tagName !== 'SCRIPT' && !node.parentElement.classList.contains('brand-text')) {
            nodesToReplace.push(node);
          }
        }
        nodesToReplace.forEach(node => {
          const span = document.createElement('span');
          span.innerHTML = node.nodeValue.replace(/(\/six|sais)/gi, '<span class="brand-text">$1</span>');
          node.parentElement.replaceChild(span, node);
        });
      }, 100);
    },

    fetchDiscordStats: async () => {
  const SERVER_ID = "1360258839429255208";
  const countEl = document.getElementById("discord-count");
  if (!countEl) return;

  try {
    const res = await fetch(
      `https://discord.com/api/guilds/${SERVER_ID}/widget.json`
    );
    if (!res.ok) throw new Error("Widget disabled");

    const data = await res.json();

    countEl.innerHTML = `
      <span style="color:#fff;font-weight:700">${data.presence_count}</span> online
    `;
  } catch (err) {
    console.warn("Discord widget fetch failed", err);
    countEl.textContent = "Discord server";
  }
}


  };

  window.addEventListener('DOMContentLoaded', app.init);
</script>
</body>
</html>
